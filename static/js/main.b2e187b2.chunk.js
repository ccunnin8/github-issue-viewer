(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{22:function(e,t,a){e.exports=a(35)},27:function(e,t,a){},28:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),s=(a(27),a(7)),o=a(1),u=(a(28),a(21)),m=a(9),i=a.n(m),p=a(13),b=a(5);function f(e,t){return e%t===0?e/t:Math.floor(e/t)+1}var E="https://api.github.com/repos";function g(){var e=Object(o.h)().id,t=Object(n.useState)(0),a=Object(b.a)(t,2),c=a[0],l=a[1],m=Object(n.useState)(!0),g=Object(b.a)(m,2),x=g[0],d=g[1],w=Object(n.useState)(""),N=Object(b.a)(w,2),v=N[0],j=N[1],O=Object(n.useState)([]),y=Object(b.a)(O,2),k=y[0],S=y[1],C=new URLSearchParams(Object(o.g)().search),_=function(){return C.get("org")?"?org=".concat(C.get("org"),"&repo=").concat(C.get("repo")):""},B=function(e){window.history.replaceState(null,"Github Issue Viewer","/".concat(e).concat(_())),l(e)};return Object(n.useEffect)((function(){var t;e&&l(parseInt(e)),t=C.get("org")&&C.get("repo")?"".concat(E,"/").concat(C.get("org"),"/").concat(C.get("repo"),"/issues"):"".concat(E,"/").concat("walmartlabs","/").concat("thorax","/issues"),Object(p.a)(i.a.mark((function e(){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:if(200!==(a=e.sent).status){e.next=14;break}return e.next=7,a.json();case 7:n=e.sent,S(n),console.log(n.length),d(!1),j(""),e.next=16;break;case 14:d(!1),j("an error occurred getting the data");case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.error(e.t0),j("an error occcurred getting the data");case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))()}),[e]),x?r.a.createElement("p",null,"Loading"):r.a.createElement("div",{className:"mx-auto w-11/12"},r.a.createElement("h1",{className:"text-center text-2xl"},"Github Issues"),v&&r.a.createElement("p",null,v),r.a.createElement(s.b,{className:"p-2 bg-green-200 border",to:"/"},"Search again"),r.a.createElement("div",{className:"mt-8"},r.a.createElement("header",{className:"text-center uppercase font-bold w-5/6 flex flex-row"},r.a.createElement("p",{className:"w-1/5"},"Number"),r.a.createElement("p",{className:"w-1/5"},"State"),r.a.createElement("p",{className:"w-2/5"},"Title"),r.a.createElement("p",{className:"w-1/5"},"Username")),r.a.createElement("ul",{className:"list-none"},k.slice(10*c,10*c+10).map((function(e){return r.a.createElement(h,Object.assign({key:"issue_".concat(e.id)},e))})))),r.a.createElement("div",null,r.a.createElement("ul",{className:"flex flex-row"},Object(u.a)(Array(f(k.length,10)).keys()).map((function(e){return r.a.createElement("li",{key:"link_to_"+e,className:"underline ml-2 text-blue-500"},r.a.createElement(s.b,{to:"/results/".concat(e).concat(_())},e+1))})))),r.a.createElement("div",{className:"buttons my-4"},c>0&&r.a.createElement("button",{className:"bg-blue-300 p-2 border",onClick:function(){return B(c-1)}},"Back"),c+1<f(k.length,10)&&r.a.createElement("button",{className:"bg-blue-300 p-2 border",onClick:function(){return B(c+1)}},"Forward")))}var h=function(e){var t=e.state,a=e.title,n=e.user,c=e.number;return r.a.createElement(s.b,{to:"/issue/".concat(c)},r.a.createElement("li",{className:"text-center flex flex-row w-5/6 py-4 border hover:bg-gray-300"},r.a.createElement("p",{className:"w-1/5"},c),r.a.createElement("p",{className:"w-1/5"},t),r.a.createElement("p",{className:"w-2/5"},a),r.a.createElement("p",{className:"w-1/5"},n.login)))};function x(e){return new Date(e).toLocaleString()}function d(){var e,t=Object(o.h)().id,a=Object(n.useState)([]),c=Object(b.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(!0),m=Object(b.a)(u,2),f=(m[0],m[1]),E=Object(n.useState)(""),g=Object(b.a)(E,2),h=g[0],d=g[1],w=Object(o.f)();return Object(n.useEffect)((function(){Object(p.a)(i.a.mark((function e(){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.github.com/repos/walmartlabs/thorax/issues/".concat(t),e.prev=1,e.next=4,fetch(a);case 4:if(200!==(n=e.sent).status){e.next=14;break}return e.next=8,n.json();case 8:r=e.sent,s(r),d(""),f(!1),e.next=16;break;case 14:f(!0),d("there was an error getting the data");case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),console.error(e.t0),d("there was an error getting the data",e.t0);case 22:case"end":return e.stop()}}),e,null,[[1,18]])})))()}),[t]),0===l.length?r.a.createElement("p",null,"Loading"):r.a.createElement("div",{className:"w-11/12 mx-auto"},h&&r.a.createElement("p",null,h),r.a.createElement("button",{onClick:function(){return w.goBack()}},r.a.createElement("span",{className:"uppercase font-bold text-lg"},"\u2190 Back ")),r.a.createElement("h1",{className:"text-3xl my-2"},"Title: ",l.title),r.a.createElement("div",{className:"w-100 flex flex-row"},r.a.createElement("div",{className:"w-1/3"},r.a.createElement("h2",{className:"my-2"},r.a.createElement("a",{href:l},"Owner: ",l.user.login)),r.a.createElement("img",{className:"rounded",alt:"gravatar for this user",src:l.user.avatar_url})),r.a.createElement("div",{className:"w-2/3 flex flex-col justify-center items-center ml-3"},r.a.createElement("h2",{className:"text-2xl"},"Created At: ",x(l.created_at)),r.a.createElement("h2",{className:"text-2xl"},"Updated At: ",x(l.updated_at)))),r.a.createElement("h3",{className:"text-2xl"},"Details"),r.a.createElement("ul",null,r.a.createElement("li",null,"State:",r.a.createElement("span",{className:(e=l.status,("open"===e?"text-red-500":"text-green-500")+" ml-2 uppercase font-bold")},l.state)),r.a.createElement("li",null,"Body: ",l.body)))}function w(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),s=Object(b.a)(l,2),u=s[0],m=s[1],i=Object(o.f)();return r.a.createElement("div",{style:{height:500},className:"w-full h-full flex flex-col justify-center items-center"},r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),i.push("/results/0?org=".concat(a,"&repo=").concat(u))}(e)},className:"w-3/4 mx-auto flex flex-col items-center justify-center"},r.a.createElement("label",null,"Organization: "),r.a.createElement("input",{className:"p-1 border",onChange:function(e){return c(e.target.value)},type:"text",name:"org",id:"org",value:a}),r.a.createElement("label",null,"Repo: "),r.a.createElement("input",{className:"p-1 border",type:"text",name:"repo",id:"repo",value:u,onChange:function(e){return m(e.target.value)}}),r.a.createElement("input",{type:"submit",className:"bg-blue-400 p-2 border my-2 w-40",value:"search"})),r.a.createElement("a",{className:"text-center bg-green-600 p-3 border w-40",href:"/results/0?org=walmartlabs&repo=thorax"},"Thorax Repo"))}var N=function(){return r.a.createElement(s.a,{basename:"".concat("/github-issue-viewer","/")},r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:w}),r.a.createElement(o.a,{exact:!0,path:"/results",component:g}),r.a.createElement(o.a,{exact:!0,path:"/results/:id",component:g}),r.a.createElement(o.a,{exact:!0,path:"/issue/:id",component:d})))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.b2e187b2.chunk.js.map